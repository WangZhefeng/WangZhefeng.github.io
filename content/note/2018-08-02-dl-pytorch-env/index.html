---
title: PyTorch Env
author: 王哲峰
date: '2018-08-02'
slug: dl-pytorch-env
categories:
  - deeplearning
tags:
  - tool
output:
  blogdown::html_page:
    toc: true
    fig_width: 6
    dev: "svg"
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>

<div id="TOC">
<ul>
<li><a href="#pytorch-支持的硬件平台">1.PyTorch 支持的硬件平台</a></li>
<li><a href="#pytorch-系统要求">2.PyTorch 系统要求</a></li>
<li><a href="#macos-安装-pytorch">3.macOS 安装 PyTorch</a>
<ul>
<li><a href="#使用-pip-安装-pytorch">3.1 使用 pip 安装 PyTorch</a></li>
<li><a href="#使用-anaconda-安装-pytorch">3.2 使用 Anaconda 安装 PyTorch</a></li>
</ul></li>
<li><a href="#ubuntu-安装-pytorch">4.Ubuntu 安装 Pytorch</a>
<ul>
<li><a href="#使用-pip-安装-pytorch-1">4.1 使用 pip 安装 PyTorch</a></li>
<li><a href="#使用-anaconda-安装-pytorch-1">4.2 使用 Anaconda 安装 PyTorch</a></li>
<li><a href="#使用-docker-安装-pytorch">4.3 使用 Docker 安装 PyTorch</a></li>
</ul></li>
<li><a href="#building-from-source">5.Building from source</a>
<ul>
<li><a href="#macos">5.1 macOS</a></li>
<li><a href="#ubuntu">5.2 Ubuntu</a></li>
</ul></li>
<li><a href="#verification">6.Verification</a></li>
</ul>
</div>

<div id="pytorch-支持的硬件平台" class="section level1">
<h1>1.PyTorch 支持的硬件平台</h1>
<ul>
<li>PC
<ul>
<li>CPU</li>
<li>GPU</li>
<li>Cloud TPU(张量)</li>
</ul></li>
<li>Mobile
<ul>
<li>Android</li>
<li>iOS</li>
<li>Embedded Devices</li>
</ul></li>
</ul>
</div>
<div id="pytorch-系统要求" class="section level1">
<h1>2.PyTorch 系统要求</h1>
<ul>
<li>Linux distributions that use glibc &gt;= v2.17
<ul>
<li>Arch Linux, minimum version 2012-07-15</li>
<li>CentOS, minimum version 7.3-1611</li>
<li>Debian, minimum version 8.0</li>
<li>Fedora, minimum version 24</li>
<li>Mint, minimum version 14</li>
<li>OpenSUSE, minimum version 42.1</li>
<li>PCLinuxOS, minimum version 2014.7</li>
<li>Slackware, minimum version 14.2</li>
<li>Ubuntu, minimum version 13.04</li>
</ul></li>
<li>macOS 10.10(Yosemite) or above</li>
<li>Windows
<ul>
<li>Windows 7 and greater; Windows 10 or greater recommended.</li>
<li>Windows Server 2008 r2 and greater</li>
</ul></li>
</ul>
</div>
<div id="macos-安装-pytorch" class="section level1">
<h1>3.macOS 安装 PyTorch</h1>
<div id="使用-pip-安装-pytorch" class="section level2">
<h2>3.1 使用 pip 安装 PyTorch</h2>
<pre class="bash"><code>$ pip install numpy
$ pip install torch torchvision</code></pre>
</div>
<div id="使用-anaconda-安装-pytorch" class="section level2">
<h2>3.2 使用 Anaconda 安装 PyTorch</h2>
<pre class="bash"><code>$ conda install pytorch torchvision -c pytorch</code></pre>
<p>3.3 使用 Docker 安装 PyTorch</p>
<pre class="bash"><code>$ test test</code></pre>
</div>
</div>
<div id="ubuntu-安装-pytorch" class="section level1">
<h1>4.Ubuntu 安装 Pytorch</h1>
<div id="使用-pip-安装-pytorch-1" class="section level2">
<h2>4.1 使用 pip 安装 PyTorch</h2>
<pre class="bash"><code>$ pip install torch==1.8.0+cpu torchvision==0.9.0+cpu torchaudio==0.8.0 -f https://download.pytorch.org/whl/torch_stable.html</code></pre>
</div>
<div id="使用-anaconda-安装-pytorch-1" class="section level2">
<h2>4.2 使用 Anaconda 安装 PyTorch</h2>
<pre class="bash"><code>$ conda install pytorch torchvision torchaudio cpuonly -c pytorch</code></pre>
</div>
<div id="使用-docker-安装-pytorch" class="section level2">
<h2>4.3 使用 Docker 安装 PyTorch</h2>
<pre class="bash"><code>$ test test</code></pre>
</div>
</div>
<div id="building-from-source" class="section level1">
<h1>5.Building from source</h1>
<div id="macos" class="section level2">
<h2>5.1 macOS</h2>
<ul>
<li>Prerequisites
<ul>
<li>Install Anaconda</li>
<li>Install CUDA, if your machine has a CUDA-enabled GPU.</li>
<li>Install optional dependencies:</li>
</ul></li>
</ul>
<pre class="bash"><code>$ export CMAKE_PREFIX_PATH=[anaconda root directory]
$ conda install numpy pyyaml mkl mkl-include setuptools cmake cffi typing</code></pre>
<pre class="bash"><code>$ git clone --recursive https://github.com/pytorch/pytorch
$ cd pytorch
$ MACOSX_DEPLOYMENT_TARGET=10.9 CC=clang CXX=clang++ python setup.py install</code></pre>
<ul>
<li>当前，仅可以通过从源码构建 PyTorch 来获得 macOS 的 CUDA 支持</li>
</ul>
</div>
<div id="ubuntu" class="section level2">
<h2>5.2 Ubuntu</h2>
<pre class="bash"><code>$ git clone </code></pre>
</div>
</div>
<div id="verification" class="section level1">
<h1>6.Verification</h1>
<ul>
<li>Torch 使用:</li>
</ul>
<pre class="bash"><code>&gt;&gt;&gt; from __future__ import print_function
&gt;&gt;&gt; import torch

&gt;&gt;&gt; x = torch.rand(5, 3)
&gt;&gt;&gt; print(x)

tensor([[0.3380, 0.3845, 0.3217],
    [0.8337, 0.9050, 0.2650],
    [0.2979, 0.7141, 0.9069],
    [0.1449, 0.1132, 0.1375],
    [0.4675, 0.3947, 0.1426]])</code></pre>
<ul>
<li>GPU dirver 和 CUDA:</li>
</ul>
<pre class="bash"><code>import torch
torch.cuda.is_available()</code></pre>
</div>
