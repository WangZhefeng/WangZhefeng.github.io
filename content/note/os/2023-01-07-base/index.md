---
title: 数学优化模型
author: 王哲峰
date: '2023-01-07'
slug: base
categories:
  - optimizer algorithm
tags:
  - algorithm
---

<style>
details {
    border: 1px solid #aaa;
    border-radius: 4px;
    padding: .5em .5em 0;
}
summary {
    font-weight: bold;
    margin: -.5em -.5em 0;
    padding: .5em;
}
details[open] {
    padding: .5em;
}
details[open] summary {
    border-bottom: 1px solid #aaa;
    margin-bottom: .5em;
}
img {
    pointer-events: none;
}
</style>

<details><summary>目录</summary><p>

- [数学模型](#数学模型)
    - [优化及运筹学方法的步骤](#优化及运筹学方法的步骤)
        - [运筹学处理问题的一般步骤](#运筹学处理问题的一般步骤)
        - [决策、约束与目标](#决策约束与目标)
    - [系统边界、敏感性分析、易处理性及有效性](#系统边界敏感性分析易处理性及有效性)
    - [数值搜索、精确解与启发解](#数值搜索精确解与启发解)
    - [确定模型与随机模型](#确定模型与随机模型)
    - [确定性优化模型](#确定性优化模型)
    - [搜索算法](#搜索算法)
- [运筹优化](#运筹优化)
- [算法](#算法)
- [问题](#问题)
    - [运输问题](#运输问题)
        - [产销平滑的运输问题](#产销平滑的运输问题)
    - [啤酒混合策略](#啤酒混合策略)
    - [寒冷天气混合燃料策略](#寒冷天气混合燃料策略)
    - [饮食营养策略](#饮食营养策略)
- [参考](#参考)
</p></details><p></p>

# 数学模型

> 数学模型(mathematical model)是一个包含变量及问题相关特征之间关系的集合体

## 优化及运筹学方法的步骤

### 运筹学处理问题的一般步骤

一般步骤开始于建模，即我们首先要定义相关变量，以及量化用于描述问题相关行为的一些关系

之后是分析。我们需要应用数学方法与技术去找到模型建议的结论，注意这些结论源自于模型而非最初的实际问题。

最后我们需要做出推论，以表明这些源自于模型的结论对于解决实际问题的合理性。
当然，推论也可能证明这些源自于模型的结论对于解决问题不是充分的或者难以执行的，
这时我们需要修正模型并重新进行上述步骤

### 决策、约束与目标

通常在建模前，需要从三个维度：决策、约束与目标去关注问题

三个建模的基本关注点为：

1. 决策者需要做出决策(decision)
2. 限制决策选择的约束(constraint)
3. 人们偏好的决策所产生的目标(objective)


## 系统边界、敏感性分析、易处理性及有效性


## 数值搜索、精确解与启发解


## 确定模型与随机模型



## 确定性优化模型


## 搜索算法



# 运筹优化

运筹学(OR)和优化模型包括线性规划(LP)、混合整数线性规划(MILP)和二次规划(QP)：

* 线性规划(Linear Programming, LP)
* 混合整数线性规划(MILP)
* 二次规划(QP)

一般我们使用 LP/MILP 包来单独建模一个实际的优化问题，例如 

* GAMS
* AMPL
* OPL
* ...

优化求解器

* CPLEX
* Gurobi
* PuLP
* Mosek
* Xpress
* ...

# 算法

* 线性规划
    - 单纯形法
    - 内点法
    - 列生成法
* 整数规划
    - 分支定界法
    - 划割平面法
* 遗传算法

# 问题

## 运输问题

运输问题是一类特殊的线性规划问题，一般的运输问题就是要解决：把某种产品从若干个产地调运到若干个销地，
在已知每个产地的供应量、每个销地的需求量、各地之间的运输单价的前提下，如何确定一个使得总的运输费用最小的方案

### 产销平滑的运输问题

有三个工厂 F1、F2、F3 生产同种产品，它们的产量分别为 25、15、10 单位。
该公司把这些产品分别运往四个销售点 D1、D2、D3、D4，各销售点销量分别为 13、21、9 和 7。
从各工厂到各销售点的单位产品的运价为下表所示。问该公司应如何调运产品，在满足各销售点需求量的前提下，使总运费为最少

![img](images/transfer.png)

假设 `$i$` 产地(`$i \in F_{1}, F_{2}, F_{3}$`)运输到 `$j$` 销售地的数量为 `$x_{ij}$`，则数学模型如下

目标函数：

`$$\begin{align}
min z &= 6x_{11} + 7x_{12} + 5x_{13} \\ 
&+ 8x_{21} + 4x_{22} + 2x_{23} + 7x_{24} \\
&+ 5x_{31} + 9x_{32} + 10x_{33} + 6x_{34} 
\end{align}$$`

约束条件：

`$$s.t.\begin{cases}
x_{11} + x_{12} + x_{13} + x_{14} = 25 \\
x_{21} + x_{22} + x_{23} + x_{24} = 10 \\
x_{31} + x_{32} + x_{33} + x_{34} = 15 \\
x_{11} + x_{21} + x_{31} = 13 \\
x_{12} + x_{22} + x_{33} = 21 \\
x_{13} + x_{23} + x_{33} = 9 \\
x_{14} + x_{24} + x_{34} = 7 \\
x_{ij} \geq 0, i=1,2,3; j=1,2,3,4
\end{cases}$$`

一般的数学模型如下，假设从 `$A_{i}$` 产地到 `$B_{j}$` 销售点的物资运量为 `$x_{ij}$`

目标函数：

`$$min z = \sum_{i=1}^{m}\sum_{j=1}^{n}c_{ij}x_{ij}$$`

约束条件：`$A_{i}$` 产地的产品全部供应出去，`$B_{j}$` 销售点的需求全部得到满足，且产量等于销量

`$$\begin{cases}
\sum_{i=1}^{m} x_{ij}= a_{i}, i = 1, 2, \ldots, m \\
\sum_{j=1}^{n} x_{ij}= b_{j}, j = 1, 2, \ldots, n \\
\sum_{i=1}^{m} a_{i} = \sum_{j=1}^{n} b_{j} \\
x_{ij} \geq 0, i=1,2,\ldots,m; j=1,2,\ldots,n
\end{cases}$$`


## 啤酒混合策略


## 寒冷天气混合燃料策略


## 饮食营养策略


# 参考

* [中国大学 MOOC-运筹学](https://www.icourse163.org/learn/JXUFE-1002345001?tid=1450298456#/learn/content)
* [python运筹优化实践](https://www.zhihu.com/column/c_1060904037507006464)
